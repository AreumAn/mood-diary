# MoodDiary 제품 요구사항 문서(PRD)

## 1. 프로젝트 개요

**MoodDiary**는 사용자가 일기를 작성하고, 해당 일기의 감정을 자동으로 분석하여 시각적으로 표시해주는 단순하고 직관적인 일기장 서비스입니다. GPT 기술을 활용하여 사용자의 일기 내용을 분석하고, 감정에 따라 색상과 아이콘을 통해 일기의 분위기를 한눈에 파악할 수 있습니다.

## 2. 유저 플로우

1. **일기 작성**

    - 메인 화면에서 **'새 일기 작성'** 버튼을 클릭합니다.
    - 제목과 내용 입력 필드가 제공되며, 사용자는 일기를 작성합니다.
    - 작성 완료 후 **'저장'** 버튼을 누릅니다.

2. **감정 분석**

    - 일기가 저장되면 **Google Gemini API**를 활용하여 내용의 감정을 분석합니다.
    - 분석된 감정은 로컬 스토리지나 상태 관리로 저장됩니다.

3. **일기 리스트 보기**

    - 사용자는 날짜별로 정렬된 일기 리스트를 확인합니다.
    - 각 일기에는 감정에 따른 색상 배경과 아이콘이 표시됩니다.

4. **일기 상세 보기**

    - 리스트에서 일기를 선택하면 상세 내용을 확인할 수 있습니다.
    - 상세 페이지에서도 감정 분석 결과가 표시됩니다.

## 3. 핵심 기능

### A. 일기 작성 및 관리

-   **일기 작성**: 제목과 내용을 입력하여 새로운 일기를 작성합니다.
-   **일기 수정 및 삭제**: 작성한 일기를 수정하거나 삭제할 수 있습니다.
-   **일기 리스트뷰 제공**: 날짜별로 정렬된 일기 목록을 제공합니다.

### B. 감정 분석

-   **Gemini API 연동**: Google의 Gemini API를 사용하여 일기 내용을 감정 분석합니다.
-   **감정 분류**: 분석된 감정을 사전에 정의된 감정 상태로 분류합니다.
-   **로컬 백업 분석**: API 호출 실패 시 키워드 기반 로컬 분석을 통해 기본적인 감정 분류를 제공합니다.

### C. 시각적 표시

-   **감정 상태에 따른 색상 및 아이콘 표시**

    감정 상태별로 다음과 같이 색상 코드와 아이콘을 매핑합니다:

    | 감정 상태 | 색상 코드      | 아이콘                                             |
    | --------- | -------------- | -------------------------------------------------- |
    | **행복**  | `#FFD700` 금색 | `Smile` 아이콘 (Lucide Icons의 `Smile` 사용)       |
    | **슬픔**  | `#1E90FF` 파랑 | `Frown` 아이콘 (Lucide Icons의 `Frown` 사용)       |
    | **분노**  | `#FF4500` 주황 | `Angry` 아이콘 (Lucide Icons의 `Angry` 사용)       |
    | **평범**  | `#C0C0C0` 은색 | `Meh` 아이콘 (Lucide Icons의 `Meh` 사용)           |
    | **신남**  | `#7FFF00` 연두 | `Surprise` 아이콘 (Lucide Icons의 `Surprise` 사용) |

-   **아이콘 라이브러리 사용**

    -   **Lucide Icons**를 사용하여 아이콘을 적용합니다.

-   **일기 리스트 및 상세 페이지에서 적용**

    -   리스트뷰에서 각 일기는 감정에 따라 배경색과 아이콘이 표시됩니다.
    -   상세 페이지에서도 해당 감정의 색상과 아이콘이 표시되어 사용자가 일기의 분위기를 쉽게 파악할 수 있습니다.

### D. 테마 설정

-   **다크 모드 지원**: 사용자가 라이트 모드와 다크 모드 중 선택할 수 있습니다.
-   **테마 토글 버튼**: 상단 네비게이션 바에 테마 전환 버튼을 제공합니다.
-   **테마 저장**: 선택한 테마는 로컬 스토리지에 저장되어 페이지를 새로고침해도 유지됩니다.
-   **시스템 설정 감지**: 초기 접속 시 사용자의 시스템 테마 설정을 감지하여 자동으로 적용합니다.

### E. 다국어 지원

-   **언어 전환 기능**: 한국어와 영어 간 전환이 가능한 토글 스위치를 제공합니다.
-   **UI 번역**: 모든 버튼, 레이블, 메시지 등의 UI 요소가 선택된 언어로 표시됩니다.
-   **감정 분석 다국어 지원**: 한국어와 영어 모두에서 감정 분석이 가능합니다.
-   **언어 설정 저장**: 선택한 언어 설정은 로컬 스토리지에 저장되어 페이지를 새로고침해도 유지됩니다.
-   **기본 언어 설정**: 기본 언어는 영어로 설정되어 있으며, 사용자가 원할 경우 한국어로 전환할 수 있습니다.

## 4. 기술스택

### 필수 기술스택

-   **Next.js App Router**: 서버 사이드 렌더링 및 라우팅 관리
-   **ShadCN UI**: UI 컴포넌트 라이브러리
-   **TailwindCSS**: 스타일링 프레임워크

### 추가 기술스택

-   **TypeScript**: 정적 타입 체크를 통한 안정성 확보
-   **React Hooks 및 Context API**: 상태 관리 및 테마/언어 관리
-   **Google Gemini API**: 감정 분석을 위한 Gemini 모델 사용
-   **로컬 스토리지(Local Storage)**: 일기 데이터, 테마 설정 및 언어 설정의 로컬 저장
-   **Axios 또는 Fetch API**: API 호출을 위한 HTTP 클라이언트
-   **Lucide Icons**: 아이콘 사용을 위한 라이브러리
    -   ShadCN UI와 호환되며 다양한 아이콘을 제공합니다.

## 5. MVP 기능 개발 이후 추가 개선사항

-   **회원가입 및 로그인 기능**: 사용자 인증 기능 추가 (이메일 및 비밀번호 기반)
-   **데이터베이스 연동**: Prisma와 PostgreSQL 등을 활용하여 데이터 영구 저장
-   **추가 언어 지원**: 중국어, 일본어 등 더 많은 언어로 확장
-   **감정 통계 제공**: 월별 또는 연도별 감정 변화 추이 그래프 제공
-   **소셜 기능**: 다른 사용자와 일기를 공유하거나 댓글을 남길 수 있는 기능
-   **알림 기능**: 일기 작성 리마인더 알림 설정
-   **커스터마이징**: 사용자별 테마 변경 및 아이콘 커스터마이징 기능
-   **오프라인 모드 개선**: 인터넷 연결 없이도 일기 작성 및 확인 가능하도록 지원
